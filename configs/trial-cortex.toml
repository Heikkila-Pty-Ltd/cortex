# Cortex trial configuration template
# setup-trial-environment.sh renders this template into an isolated trial directory.

[general]
tick_interval = "60s"
max_per_tick = 3
stuck_timeout = "20m"
max_retries = 1
log_level = "info"
state_db = "__TRIAL_ROOT__/state/trial-cortex.db"

[projects.cortex]
enabled = true
beads_dir = "__WORKSPACE__/.beads"
workspace = "__WORKSPACE__"
priority = 0

[rate_limits]
window_5h_cap = 80
weekly_cap = 500
weekly_headroom_pct = 60

[health]
check_interval = "1m"
gateway_unit = "openclaw-gateway.service"

[api]
bind = "127.0.0.1:18900"

[api.security]
enabled = true
allowed_tokens = ["__TRIAL_TOKEN__"]
require_local_only = false
audit_log = "__TRIAL_ROOT__/logs/trial-api-audit.log"

[dispatch.routing]
fast_backend = "headless_cli"
balanced_backend = "headless_cli"
premium_backend = "tmux"
comms_backend = "headless_cli"
retry_backend = "headless_cli"

[dispatch.timeouts]
fast = "10m"
balanced = "30m"
premium = "90m"

[dispatch.tmux]
history_limit = 50000
session_prefix = "cortex-trial-"
