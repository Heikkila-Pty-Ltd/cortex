{
  "version": "1.0",
  "description": "SLO thresholds for Cortex burn-in evaluation",
  "evaluation_windows": {
    "daily": {
      "duration_hours": 24,
      "description": "Single day evaluation window for ongoing monitoring"
    },
    "burn_in": {
      "duration_hours": 168,
      "description": "7-day burn-in window for launch readiness evaluation"
    }
  },
  "metrics": {
    "unknown_disappeared_failure_rate": {
      "description": "Percentage of dispatches failing with unknown or disappeared session states",
      "calculation": "(dispatches with failure_category in ['session_disappeared', 'unknown_exit_state']) / total_dispatches * 100",
      "data_source": {
        "table": "dispatches",
        "columns": ["failure_category", "completed_at", "status"],
        "filters": ["completed_at IS NOT NULL"]
      },
      "thresholds": {
        "daily": {
          "max_percentage": 5.0,
          "severity": "warning",
          "description": "Daily threshold for unknown/disappeared failure rate"
        },
        "burn_in": {
          "max_percentage": 2.0,
          "severity": "critical", 
          "description": "7-day threshold for launch readiness"
        }
      },
      "failure_categories": [
        "session_disappeared",
        "unknown_exit_state"
      ]
    },
    "intervention_rate": {
      "description": "Percentage of dispatches requiring manual intervention",
      "calculation": "(dispatches with status in ['cancelled', 'interrupted']) / total_dispatches * 100",
      "data_source": {
        "table": "dispatches", 
        "columns": ["status", "completed_at"],
        "filters": ["completed_at IS NOT NULL"]
      },
      "thresholds": {
        "daily": {
          "max_percentage": 15.0,
          "severity": "warning",
          "description": "Daily threshold for intervention rate"
        },
        "burn_in": {
          "max_percentage": 10.0,
          "severity": "critical", 
          "description": "7-day threshold for launch readiness"
        }
      },
      "intervention_types": [
        "cancelled",
        "interrupted"
      ]
    },
    "critical_health_events": {
      "description": "Count of critical system health events",
      "calculation": "COUNT of health_events with event_type in critical_event_types",
      "data_source": {
        "table": "health_events",
        "columns": ["event_type", "created_at", "details"],
        "filters": []
      },
      "thresholds": {
        "daily": {
          "max_count": 2,
          "severity": "warning",
          "description": "Daily threshold for critical health events"
        },
        "burn_in": {
          "max_count": 5,
          "severity": "critical",
          "description": "7-day threshold for launch readiness"
        }
      },
      "critical_event_types": [
        "gateway_critical",
        "dispatch_session_gone",
        "bead_churn_blocked"
      ]
    },
    "system_stability": {
      "description": "System uptime percentage over evaluation period",
      "calculation": "(total_period_minutes - downtime_minutes) / total_period_minutes * 100",
      "data_source": {
        "table": "health_events",
        "columns": ["event_type", "created_at", "details"],
        "filters": ["event_type IN ('gateway_critical', 'gateway_restart_success')"]
      },
      "thresholds": {
        "daily": {
          "min_percentage": 95.0,
          "severity": "warning", 
          "description": "Daily minimum uptime threshold"
        },
        "burn_in": {
          "min_percentage": 99.0,
          "severity": "critical",
          "description": "7-day minimum uptime for launch readiness"
        }
      },
      "uptime_calculation": {
        "down_indicators": ["gateway_critical"],
        "up_indicators": ["gateway_restart_success"],
        "default_state": "up"
      }
    }
  },
  "scoring": {
    "launch_readiness": {
      "description": "Combined scoring for launch go/no-go decision",
      "requirements": {
        "all_burn_in_thresholds_met": true,
        "no_critical_severity_violations": true,
        "evaluation_period_complete": "7_days"
      },
      "decision_logic": "AND",
      "override_conditions": [
        "manual_override_with_risk_acceptance",
        "critical_business_need_with_mitigation_plan"
      ]
    },
    "daily_monitoring": {
      "description": "Ongoing operational health monitoring", 
      "alert_conditions": {
        "warning_threshold_exceeded": "any_daily_warning_threshold",
        "critical_threshold_exceeded": "any_critical_threshold"
      }
    }
  },
  "metadata": {
    "created": "2026-02-18",
    "author": "cortex-zly",
    "review_required": true,
    "next_review_date": "2026-05-18",
    "changelog": [
      {
        "version": "1.0",
        "date": "2026-02-18",
        "changes": ["Initial definition of burn-in SLO thresholds"]
      }
    ]
  }
}