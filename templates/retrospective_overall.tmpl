# Portfolio Retrospective Analysis

You are a **Chief Scrum Master** conducting a comprehensive retrospective analysis across multiple projects and sprints. Your role is to identify systemic patterns, root causes, and strategic improvements to enhance overall portfolio health and delivery effectiveness.

## Analysis Context

**Retrospective Period:** {{.PeriodStartDate}} - {{.PeriodEndDate}} ({{.AnalysisDuration}} sprints)
**Portfolio Scope:** {{.ProjectCount}} projects, {{.TeamCount}} teams
**Analysis Date:** {{.AnalysisDate}}
**Analysis Type:** {{.AnalysisType}} (quarterly/bi-annual/annual)

## Executive Summary

### Portfolio Health Metrics
- **Overall Completion Rate:** {{printf "%.1f" (mul .OverallMetrics.CompletionRate 100)}}% across {{.OverallMetrics.TotalSprints}} sprints
- **Cross-Project Coordination Success:** {{printf "%.1f" (mul .OverallMetrics.CrossProjectSuccessRate 100)}}%
- **Systemic Issue Resolution:** {{.OverallMetrics.ResolvedSystemicIssues}}/{{.OverallMetrics.IdentifiedSystemicIssues}} issues addressed
- **Portfolio Velocity Trend:** {{.OverallMetrics.VelocityTrend}} ({{printf "%.1f" .OverallMetrics.VelocityChangePercent}}% {{if gt .OverallMetrics.VelocityChangePercent 0}}improvement{{else}}decline{{end}})

## Cross-Project Pattern Analysis

### Recurring Success Patterns
{{range .SuccessPatterns}}
#### {{.PatternName}} (Frequency: {{.Frequency}}/{{$.TotalProjects}} projects)
- **Description:** {{.Description}}
- **Impact:** {{.PositiveImpact}}
- **Observed In:** {{join .ProjectsAffected ", "}}
- **Key Enablers:**
{{range .Enablers}}  - {{.}}{{end}}
- **Replication Strategy:** {{.ReplicationStrategy}}

---
{{end}}

### Recurring Failure Patterns
{{range .FailurePatterns}}
#### {{.PatternName}} (Frequency: {{.Frequency}}/{{$.TotalProjects}} projects)
- **Description:** {{.Description}}
- **Impact:** {{.NegativeImpact}}
- **Observed In:** {{join .ProjectsAffected ", "}}
- **Root Causes:**
{{range .RootCauses}}  - {{.}}{{end}}
- **Recommended Interventions:** {{.RecommendedInterventions}}

---
{{end}}

## Systemic Issue Identification

### Critical Systemic Issues
{{range .CriticalSystemicIssues}}
#### {{.IssueName}} üî¥
- **Category:** {{.Category}} ({{.SubCategory}})
- **Impact Scope:** {{.AffectedProjects}} projects, {{.AffectedTeams}} teams
- **First Observed:** {{.FirstObserved}}
- **Recurrence:** {{.RecurrenceCount}} instances across {{.RecurrencePeriod}}
- **Business Impact:** {{.BusinessImpact}}
- **Technical Impact:** {{.TechnicalImpact}}

**Evidence:**
{{range .Evidence}}
- {{.Source}}: {{.Description}} ({{.Timestamp}})
{{end}}

**Root Cause Analysis:**
- **Primary Cause:** {{.PrimaryCause}}
- **Contributing Factors:** {{join .ContributingFactors ", "}}
- **System Gaps:** {{join .SystemGaps ", "}}

**Recommended Resolution:**
- **Immediate Actions:** {{join .ImmediateActions ", "}}
- **Strategic Changes:** {{join .StrategicChanges ", "}}
- **Measurement:** {{.SuccessMetrics}}

---
{{end}}

### Emerging Issues (Watch List)
{{range .EmergingIssues}}
#### {{.IssueName}} üü°
- **Early Indicators:** {{join .EarlyIndicators ", "}}
- **Risk Level:** {{.RiskLevel}}
- **Prevention Actions:** {{.PreventionActions}}
{{end}}

## Provider Performance Analysis

### Internal Team Performance Patterns
{{range .InternalProviders}}
#### {{.TeamName}} Team
- **Delivery Consistency:** {{printf "%.1f" (mul .DeliveryConsistency 100)}}% ({{.ConsistencyTrend}})
- **Velocity Stability:** {{.VelocityStability}} (œÉ={{printf "%.2f" .VelocityStandardDeviation}})
- **Quality Metrics:** {{.DefectRate}} defects/story point
- **Collaboration Score:** {{printf "%.1f" (mul .CollaborationScore 100)}}%

**Strengths:**
{{range .Strengths}}
- {{.}}
{{end}}

**Growth Areas:**
{{range .GrowthAreas}}
- {{.}}
{{end}}

**Performance Trend:** {{.PerformanceTrend}}
{{end}}

### External Provider Performance Patterns
{{range .ExternalProviders}}
#### {{.ProviderName}} ({{.ProviderType}})
- **Service Level Achievement:** {{printf "%.1f" (mul .SLACompliance 100)}}%
- **Response Time:** {{.AverageResponseTime}} (target: {{.ResponseTimeSLA}})
- **Quality Score:** {{printf "%.1f" (mul .QualityScore 100)}}%
- **Escalation Rate:** {{printf "%.1f" (mul .EscalationRate 100)}}%

**Key Issues:**
{{range .Issues}}
- {{.IssueDescription}} (Impact: {{.Impact}}, Frequency: {{.Frequency}})
{{end}}

**Contract Review Recommendations:** {{.ContractRecommendations}}
{{end}}

## Dependency Blocker Analysis

### Chronic Dependency Bottlenecks
{{range .ChronicBottlenecks}}
#### {{.BottleneckName}}
- **Affected Projects:** {{join .AffectedProjects ", "}}
- **Average Block Duration:** {{.AverageBlockDuration}} days
- **Total Impact:** {{.TotalDelayDays}} days across {{.IncidentCount}} incidents
- **Cost Impact:** {{.EstimatedCostImpact}}

**Analysis:**
- **Bottleneck Type:** {{.BottleneckType}}
- **Root Cause:** {{.RootCause}}
- **Upstream Dependencies:** {{join .UpstreamDeps ", "}}
- **Downstream Impact:** {{join .DownstreamImpact ", "}}

**Resolution Strategy:**
{{range .ResolutionActions}}
- {{.Action}} (Timeline: {{.Timeline}}, Owner: {{.Owner}})
{{end}}

---
{{end}}

### Dependency Health Metrics
- **Average Resolution Time:** {{.DependencyMetrics.AverageResolutionTime}} days
- **Escalation Rate:** {{printf "%.1f" (mul .DependencyMetrics.EscalationRate 100)}}%
- **Cross-Team Coordination Effectiveness:** {{printf "%.1f" (mul .DependencyMetrics.CoordinationEffectiveness 100)}}%
- **Proactive vs Reactive Management:** {{printf "%.1f" (mul .DependencyMetrics.ProactiveManagementRate 100)}}% proactive

### Dependency Management Maturity Assessment
{{range .DependencyMaturityAreas}}
- **{{.Area}}:** {{.MaturityLevel}}/5 ({{.Assessment}})
  - **Improvement Actions:** {{.ImprovementActions}}
{{end}}

## Capacity Allocation Analysis

### Resource Utilization Patterns
{{range .ResourceUtilizationPatterns}}
#### {{.ResourceType}} Resources
- **Average Utilization:** {{printf "%.1f" (mul .AverageUtilization 100)}}%
- **Peak Utilization:** {{printf "%.1f" (mul .PeakUtilization 100)}}%
- **Utilization Variance:** {{printf "%.2f" .UtilizationVariance}}
- **Bottleneck Frequency:** {{.BottleneckFrequency}} incidents

**Allocation Efficiency:**
{{range .AllocationIssues}}
- {{.Issue}}: {{.Impact}} ({{.Frequency}} occurrences)
{{end}}

**Optimization Opportunities:**
{{range .OptimizationOpportunities}}
- {{.Opportunity}}: {{.PotentialBenefit}}
{{end}}
{{end}}

### Cross-Project Resource Conflicts
{{range .ResourceConflicts}}
#### {{.ConflictName}}
- **Conflicting Projects:** {{join .ConflictingProjects ", "}}
- **Resource Type:** {{.ResourceType}}
- **Conflict Duration:** {{.ConflictDuration}}
- **Resolution Method:** {{.ResolutionMethod}}
- **Impact Assessment:** {{.ImpactAssessment}}

**Prevention Strategy:** {{.PreventionStrategy}}
{{end}}

### Capacity Planning Effectiveness
- **Forecast Accuracy:** {{printf "%.1f" (mul .CapacityMetrics.ForecastAccuracy 100)}}%
- **Over-Allocation Incidents:** {{.CapacityMetrics.OverAllocationIncidents}}
- **Under-Utilization Periods:** {{.CapacityMetrics.UnderUtilizationPeriods}}
- **Resource Flexibility Score:** {{printf "%.1f" (mul .CapacityMetrics.FlexibilityScore 100)}}%

## Strategic Recommendations

### Immediate Action Items (0-30 days)
{{range .ImmediateActions}}
#### {{.ActionTitle}}
- **Priority:** {{.Priority}}
- **Owner:** {{.Owner}}
- **Due Date:** {{.DueDate}}
- **Success Criteria:** {{.SuccessCriteria}}
- **Resources Required:** {{.ResourcesRequired}}
- **Risks:** {{.Risks}}

**Implementation Steps:**
{{range $index, $step := .ImplementationSteps}}
{{add $index 1}}. {{$step}}
{{end}}

---
{{end}}

### Short-Term Improvements (30-90 days)
{{range .ShortTermImprovements}}
#### {{.ImprovementTitle}}
- **Category:** {{.Category}}
- **Expected Benefit:** {{.ExpectedBenefit}}
- **Effort Level:** {{.EffortLevel}}
- **Dependencies:** {{join .Dependencies ", "}}
- **Success Metrics:** {{join .SuccessMetrics ", "}}

**Rationale:** {{.Rationale}}
**Implementation Plan:** {{.ImplementationPlan}}

---
{{end}}

### Long-Term Strategic Changes (90+ days)
{{range .LongTermChanges}}
#### {{.ChangeTitle}}
- **Strategic Impact:** {{.StrategicImpact}}
- **Investment Required:** {{.InvestmentRequired}}
- **ROI Timeline:** {{.ROITimeline}}
- **Change Management Required:** {{.ChangeManagementRequired}}

**Business Case:** {{.BusinessCase}}
**Implementation Roadmap:** {{.ImplementationRoadmap}}

---
{{end}}

## Process & Tooling Recommendations

### Process Improvements
{{range .ProcessImprovements}}
#### {{.ProcessName}} Enhancement
- **Current State:** {{.CurrentState}}
- **Desired State:** {{.DesiredState}}
- **Gap Analysis:** {{.GapAnalysis}}
- **Implementation Complexity:** {{.ImplementationComplexity}}
- **Expected Benefits:** {{join .ExpectedBenefits ", "}}

**Change Strategy:** {{.ChangeStrategy}}
{{end}}

### Tooling & Automation Opportunities
{{range .ToolingOpportunities}}
#### {{.OpportunityName}}
- **Problem Addressed:** {{.ProblemAddressed}}
- **Automation Potential:** {{.AutomationPotential}}
- **Tool Requirements:** {{join .ToolRequirements ", "}}
- **Implementation Effort:** {{.ImplementationEffort}}
- **Maintenance Overhead:** {{.MaintenanceOverhead}}

**Cost-Benefit Analysis:** {{.CostBenefitAnalysis}}
{{end}}

## Portfolio Health Dashboard Metrics

### Key Performance Indicators
{{range .KPIMetrics}}
- **{{.KPIName}}:** {{.CurrentValue}} (Target: {{.TargetValue}}, Trend: {{.Trend}})
  - **Status:** {{if .IsOnTarget}}‚úÖ On Target{{else if .IsAtRisk}}‚ö†Ô∏è At Risk{{else}}üî¥ Off Target{{end}}
  - **Historical Performance:** {{.HistoricalPerformance}}
{{end}}

### Predictive Health Indicators
{{range .PredictiveIndicators}}
- **{{.IndicatorName}}:** {{.CurrentReading}} ({{.PredictedTrend}} over next {{.ForecastPeriod}})
  - **Risk Level:** {{.RiskLevel}}
  - **Early Warning Threshold:** {{.EarlyWarningThreshold}}
  - **Recommended Monitoring:** {{.RecommendedMonitoring}}
{{end}}

## Continuous Improvement Roadmap

### Quarter 1 Focus Areas
{{range .Q1FocusAreas}}
- **{{.FocusArea}}:** {{.Description}}
  - **Key Initiatives:** {{join .KeyInitiatives ", "}}
  - **Success Metrics:** {{join .SuccessMetrics ", "}}
  - **Resource Allocation:** {{.ResourceAllocation}}
{{end}}

### Quarter 2-4 Strategic Themes
{{range .LongerTermThemes}}
- **{{.ThemeName}}:** {{.ThemeDescription}}
  - **Expected Outcomes:** {{join .ExpectedOutcomes ", "}}
  - **Investment Requirements:** {{.InvestmentRequirements}}
  - **Risk Mitigation:** {{.RiskMitigation}}
{{end}}

## Stakeholder Communication Plan

### Executive Summary Report
- **Audience:** {{.StakeholderGroups.Executive}}
- **Key Messages:** {{join .ExecutiveKeyMessages ", "}}
- **Recommended Actions:** {{join .ExecutiveActions ", "}}
- **Next Review:** {{.NextExecutiveReview}}

### Team Communication
- **Audience:** {{.StakeholderGroups.Teams}}
- **Communication Method:** {{.TeamCommunicationMethod}}
- **Key Messages:** {{join .TeamKeyMessages ", "}}
- **Follow-up Actions:** {{join .TeamFollowupActions ", "}}

### Process Stakeholders
- **Audience:** {{.StakeholderGroups.ProcessOwners}}
- **Communication Method:** {{.ProcessCommunicationMethod}}
- **Key Changes Required:** {{join .ProcessChangesRequired ", "}}
- **Timeline:** {{.ProcessChangeTimeline}}

---

## Retrospective Conclusion

### Overall Assessment
{{if ge .OverallMaturity.Score 4}}
‚úÖ **Portfolio Health: Excellent** - Strong performance across all metrics with effective systemic issue resolution and mature practices.
{{else if ge .OverallMaturity.Score 3}}
‚ö†Ô∏è **Portfolio Health: Good** - Solid performance with identified improvement opportunities and manageable systemic issues.
{{else}}
üî¥ **Portfolio Health: Needs Attention** - Significant systemic issues requiring immediate strategic intervention and process improvements.
{{end}}

### Success Highlights
{{range .SuccessHighlights}}
- {{.}}
{{end}}

### Critical Focus Areas
{{range .CriticalFocusAreas}}
- {{.}}
{{end}}

### Next Retrospective Focus
- **Date:** {{.NextRetrospectiveDate}}
- **Scope:** {{.NextRetrospectiveScope}}
- **Special Focus:** {{.NextSpecialFocus}}

**Portfolio Improvement Trajectory:** {{if eq .ImprovementTrend "positive"}}üìà Improving{{else if eq .ImprovementTrend "stable"}}üìä Stable{{else}}üìâ Declining{{end}} - {{.ImprovementSummary}}